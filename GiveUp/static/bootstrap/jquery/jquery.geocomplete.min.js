/**
 * jquery.geocomplete v2.1.1 (https://github.com/tmentink/jquery.geocomplete)
 * Copyright 2017-2019 Trent Mentink
 * Licensed under MIT
 */

!function(){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function t(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){console.error(e)}function i(e){var t=e.obj,n=e.query;return n=n.toLowerCase().replace(l,""),t[Object.keys(t).find(function(e){return(e=e.toLowerCase().replace(l,""))===n})]}function r(e){var t=e.toLowerCase().replace("short","").replace(l,""),n=function(e){return i({obj:R,query:e})}(t);return null==n&&(n=function(e){return i({obj:I,query:e})}(t)),n}var n,u=/\s+/g,l=/\s+|_+/g,c=window.jquery||window.$,f="geocomplete",h="gmap.".concat(f),p=".".concat(h),m={FOCUS:"focus".concat(p),PLACE_CHANGED:"place_changed"},E="appendToParent",v="formats",d="formId",_="geolocate",y="inputDataKey",g="map",T="onChange",S="onNoResult",O=(e(n={},E,!0),e(n,v,{LAT:function(e){return e.getLocation().lat()},LAT_LNG:function(e){return e.getLocation().toUrlValue()},LNG:function(e){return e.getLocation().lng()},STREET_ADDRESS:function(e){var t=e.getComponentValue("street number"),n=e.getComponentValue("street");return"".concat(t," ").concat(n)}}),e(n,d,null),e(n,_,!1),e(n,y,"geocomplete"),e(n,g,null),e(n,T,function(){}),e(n,S,function(){}),n),L="long_name",A="short_name",I={ADMINISTRATIVE_AREA_LEVEL_1:"administrative_area_level_1",ADMINISTRATIVE_AREA_LEVEL_2:"administrative_area_level_2",ADMINISTRATIVE_AREA_LEVEL_3:"administrative_area_level_3",ADMINISTRATIVE_AREA_LEVEL_4:"administrative_area_level_4",ADMINISTRATIVE_AREA_LEVEL_5:"administrative_area_level_5",AIRPORT:"airport",COLLOQUIAL_AREA:"colloquial_area",COUNTRY:"country",INTERSECTION:"intersection",LOCALITY:"locality",NATURAL_FEATURE:"natural_feature",NEIGHBORHOOD:"neighborhood",PARK:"park",POINT_OF_INTEREST:"point_of_interest",POLITICAL:"political",POSTAL_CODE:"postal_code",POSTAL_CODE_SUFFIX:"postal_code_suffix",PREMISE:"premise",ROUTE:"route",STREET_NUMBER:"street_number",SUBLOCALITY:"sublocality",SUBPREMISE:"subpremise"},R={CITY:I.LOCALITY,COUNTY:I.ADMINISTRATIVE_AREA_LEVEL_2,STATE:I.ADMINISTRATIVE_AREA_LEVEL_1,STREET:I.ROUTE,ZIP_CODE:I.POSTAL_CODE,ZIP_CODE_SUFFIX:I.POSTAL_CODE_SUFFIX};var C={ADDRESS_COMPONENTS:"address_components",ADR_ADDRESS:"adr_address",ASPECTS:"aspects",FORMATTED_ADDRESS:"formatted_address",FORMATTED_PHONE_NUMBER:"formatted_phone_number",GEOMETRY:"geometry",HTML_ATTRIBUTIONS:"html_attributions",ICON:"icon",INTERNATIONAL_PHONE_NUMBER:"international_phone_number",NAME:"name",OPENING_HOURS:"opening_hours",PERMANENTLY_CLOSED:"permanently_closed",PHOTOS:"photos",PLACE_ID:"place_id",PLUS_CODE:"plus_code",PRICE_LEVEL:"price_level",RATING:"rating",REVIEWS:"reviews",TYPES:"types",URL:"url",USER_RATINGS_TOTAL:"user_ratings_total",UTC_OFFSET:"utc_offset",VICINITY:"vicinity",WEBSITE:"website"},N=function(){function e(t){var n=this;a(this,e),this.isEmpty=function(e){return Object.keys(e).length<=1}(t),this.timestamp=(new Date).toString(),this.isEmpty||Object.values(C).forEach(function(e){n[e]=t[e]})}return t(e,[{key:"getComponentValue",value:function(e){var t=function(e){return-1!==e.toLowerCase().replace(u,"").indexOf("short")?A:L}(e),n=r(e),o=function(e){var t=e.components,n=e.type;return t.find(function(e){return e.types[0]===n})}({components:this[C.ADDRESS_COMPONENTS],type:n});return null==o?(s("".concat(e," was not found in the results")),""):o[t]}},{key:"getFormatValue",value:function(e){var t=D(e);if(null!=t)return t(this)}},{key:"getPropertyValue",value:function(e){var t=k(e);if(null!=t)return this[t]}},{key:"getLocation",value:function(){return(this[C.GEOMETRY]||{}).location}},{key:"getValue",value:function(e){var t=D(e);if(null!=t)return t(this);var n=k(e);return null!=n?this[n]:this.getComponentValue(e)}},{key:"getViewport",value:function(){return(this[C.GEOMETRY]||{}).viewport}}]),e}();function D(e){return i({obj:c.fn[f].settings[v],query:e})}function k(e){return i({obj:C,query:e})}var w=function(){function i(e){var t=e.element,n=e.form;a(this,i);var o=n.inputDataKey;this.$element=c(t),this.dataKey=this.$element.data(o),this.element=t,this.form=n,this.type=function(e){return function(e){var t=e.classList,n=e.parentElement.classList;return t.contains("ui")&&t.contains("dropdown")||n.contains("ui")&&n.contains("dropdown")}(e)?"SEMANTIC_DROPDOWN":e.nodeName}(t),this.value=null}return t(i,[{key:"clear",value:function(){var e=this,t={INPUT:function(){e.$element.val("")},SELECT:function(){e.$element.val("")},SEMANTIC_DROPDOWN:function(){e.$element.dropdown("clear")}};return this.value=null,t[this.type]()}},{key:"setValue",value:function(e){var n=this,t={INPUT:function(e){n.$element.val(e)},SELECT:function(e){var t=c("option:contains(".concat(e,")"),n.$element)[0].index;n.$element.prop("selectedIndex",t)},SEMANTIC_DROPDOWN:function(e){n.$element.dropdown("set selected",e)}};return this.value=e,t[this.type](e)}}]),i}();var P=function(){function n(e,t){a(this,n),this.id=t[d],this.element=document.getElementById(this.id.replace("#","")),this.geocomplete=e,this.inputDataKey=t[y],this.inputs=[],this.createInputs()}return t(n,[{key:"createInputs",value:function(){var t=this;this.inputs=[];var e="[data-".concat(this.inputDataKey,"]");this.element.querySelectorAll(e).forEach(function(e){t.inputs.push(new w({element:e,form:t}))})}},{key:"clear",value:function(){return this.inputs.forEach(function(e){return e.clear()}),this.geocomplete.$element}},{key:"fill",value:function(n){return this.clear(),function(e){return e instanceof N}(n)||(n=new N(n)),this.inputs.forEach(function(e){var t=n.getValue(e.dataKey);e.setValue(t)}),this.geocomplete.$element}},{key:"getValues",value:function(e){var t={};return this.inputs.forEach(function(e){t[e.dataKey]=e.value}),e?t[e]:t}}]),n}(),b=function(){function e(){a(this,e),this.styleSheet=document.createElement("style"),this.styleSheet.type="text/css",document.head.appendChild(this.styleSheet)}return t(e,[{key:"addCSS",value:function(e){this.styleSheet.innerHTML+=e}}]),e}(),V={BOUNDS:"bounds",COMPONENT_RESTRICTIONS:"componentRestrictions",FIELDS:"fields",PLACE_ID_ONLY:"placeIdOnly",STRICT_BOUNDS:"strictBounds",TYPES:"types"},U=function(){function o(e,t){a(this,o);var n=function(t){var n={},o=Object.values(V);return Object.keys(t).forEach(function(e){-1!==o.indexOf(e)&&(n[e]=t[e])}),n}(t);this.$element=e.$element,this.eventListeners=[],this.geocomplete=e,this.obj=new window.google.maps.places.Autocomplete(this.$element[0],n)}return t(o,[{key:"addListener",value:function(e,t){var n=this.obj.addListener(e,t);return this.eventListeners.push(n),n}},{key:"getBounds",value:function(){return this.obj.getBounds()}},{key:"getFields",value:function(){return this.obj.getFields()}},{key:"getPlace",value:function(){return this.obj.getPlace()}},{key:"removeListeners",value:function(){return this.eventListeners.forEach(function(e){return e.remove()}),this.$element}},{key:"setBounds",value:function(e){return this.obj.setBounds(e),this.$element}},{key:"setComponentRestrictions",value:function(e){return this.obj.setComponentRestrictions(e),this.$element}},{key:"setFields",value:function(e){return this.obj.setFields(e),this.$element}},{key:"setOptions",value:function(e){return this.obj.setOptions(e),this.$element}},{key:"setTypes",value:function(e){return this.obj.setTypes(e),this.$element}}]),o}();function $(e,t){var n=this;if(a(this,$),this.element=null,this.geocomplete=e,this.styleSheet=e.styleSheet,t[E]){var o=this.geocomplete,i=o.$element,r=o.index;i.on(m.FOCUS,function(){n.element=document.getElementsByClassName("pac-container")[r],null!=n.element&&(function(e){var t=e.$geo,n=e.element,o=e.styleSheet,i="".concat(function(e){var t=e.offset().left,n=e.parent().offset().left;return t-n}(t),"px !important"),r="".concat(function(e){var t=e.offset().top,n=e.outerHeight(),o=e.parent().offset().top;return t-o+n}(t),"px !important");n.id="pac-container_".concat(t[0].id),o.addCSS("#".concat(n.id,"{top:").concat(r,"; left:").concat(i,";}")),t.parent().css({position:"relative"}).append(n)}({$geo:i,element:n.element,styleSheet:n.styleSheet}),i.off(m.FOCUS))})}}var M=-1,j=new b,B=function(){function r(e,t){var n=this;a(this,r);var o=function(e){var t=c.fn[f].settings;return"string"==typeof e&&(e={}),c.extend(!0,{},O,t,e)}(t);this.$element=e,this.form=null,this.index=M+=1,this.map=o[g],this.placeResult=null,this.styleSheet=j,this.autocomplete=new U(this,o),this.pacContainer=new $(this,o),o[d]&&(this.form=new P(this,o)),this.autocomplete.addListener(m.PLACE_CHANGED,function(){var e=n.$element,t=n.getplace();if(n.placeResult.isEmpty)return o[S].call(e,t.name);o[T].call(e,t.name,t),n.centermap(),n.fillform()}),o[_]&&this.geolocate()}return t(r,[{key:"centermap",value:function(e){if(null!=this.map&&function(e){return e instanceof window.google.maps.Map}(this.map)){if(null==e){null==this.placeResult&&this.getplace();var t=this.placeResult.getLocation();e=this.placeResult.getViewport()||t}return function(e){return e instanceof window.google.maps.LatLngBounds}(e)?(this.map.fitBounds(e),this.$element):function(e){return e instanceof window.google.maps.LatLng}(e)?(this.map.setCenter(e),this.$element):void 0}}},{key:"clearform",value:function(){if(null!=this.form)return this.form.clear()}},{key:"destroy",value:function(){this.$element.removeData(h),this.autocomplete.removeListeners()}},{key:"fillform",value:function(e){if(null!=this.form)return e=e||this.placeResult,this.form.fill(e)}},{key:"geolocate",value:function(){var n=this;navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){var t=new window.google.maps.Circle({center:{lat:e.coords.latitude,lng:e.coords.longitude},radius:e.coords.accuracy});n.autocomplete.setBounds(t.getBounds())})}},{key:"getcachedplace",value:function(){return this.placeResult}},{key:"getformvalues",value:function(e){if(null!=this.form)return this.form.getValues(e)}},{key:"getbounds",value:function(){return this.autocomplete.getBounds()}},{key:"getfields",value:function(){return this.autocomplete.getFields()}},{key:"getplace",value:function(){var e=this.autocomplete.getPlace();return this.placeResult=new N(e),e}},{key:"setbounds",value:function(e){return this.autocomplete.setBounds(e)}},{key:"setcomponentrestrictions",value:function(e){return this.autocomplete.setComponentRestrictions(e)}},{key:"setfields",value:function(e){return this.autocomplete.setFields(e)}},{key:"setoptions",value:function(e){return this.autocomplete.setOptions(e)}},{key:"settypes",value:function(e){return this.autocomplete.setTypes(e)}}],[{key:"_jQueryInterface",value:function(e,t){var n=c(this),o=n.data(h);if(o||(o=new r(n,e),n.data(h,o)),"string"==typeof e){var i=e.toLowerCase().replace(u,"");if(o[i])return o[i](t);s('"'.concat(e,'" is not a valid method'))}return this}}]),r}();c.fn[f]=B._jQueryInterface,c.fn[f].Constructor=B,c.fn[f].settings=O}();
